# @ECO-layer: GQS-L0
# @ECO-governed
# @ECO-layer: GL90-99
# @ECO-semantic: governance-core
# @ECO-audit-trail: gov-enterprise-architecture/governance/audit-trails/GL90_99-audit.json
#
# GL Unified Architecture Governance Framework Activated
# GL Root Semantic Anchor: gov-enterprise-architecture/governance/ECO-ROOT-SEMANTIC-ANCHOR.yaml
# GL Unified Naming Charter: gov-enterprise-architecture/governance/ECO-UNIFIED-NAMING-CHARTER.yaml


apiVersion: pipeline.machinenativeops.io/v1
kind: MetadataDrivenPipeline
metadata:
  name: gov-quantum-ci-pipeline
  namespace: ci-cd
  labels:
    eco-base/part-of: eco-base
    eco-base/governance: aligned
    gov-version: v10.0.0
    tier: quantum-ci
spec:
  enabled: true
  version: v3
  pipeline:
    name: gl-quantum-pipeline
    version: "1.0.0"
    description: "GL Quantum Architecture Platform CI Pipeline"
    author: "GL Quantum Platform Team"
  trigger:
    type: push
    branchPattern: "main|develop|feature/*"
  stages:
    - name: validation
      order: 1
      description: "Validate changes before processing"
      jobs:
        - name: validate-metadata
          type: validation
          category: quality
        - name: lint-manifests
          type: lint
          category: quality
    - name: security
      order: 2
      description: "Security scanning and compliance"
      jobs:
        - name: scan-vulnerabilities
          type: security
          category: compliance
        - name: check-policies
          type: policy
          category: compliance
    - name: build
      order: 3
      description: "Build and package artifacts"
      jobs:
        - name: build-images
          type: build
          category: artifact
        - name: sign-artifacts
          type: sign
          category: security
    - name: deployment
      order: 4
      description: "Deploy to target environments"
      jobs:
        - name: deploy-dev
          type: deploy
          category: infrastructure
        - name: deploy-prod
          type: deploy
          category: infrastructure
