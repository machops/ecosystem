---
apiVersion: apps/v1
kind: Deployment
metadata:
  annotations:
    eco-base/uri: eco-base://k8s/core/deployment/machine-native-ops
    eco-base/urn: urn:eco-base:k8s:core:deployment:machine-native-ops:sha256-6366119b1cd003cf92f4b4bc560144c8adc68f1dc40b56caf8b140e04a62d1d7
    sidecar.istio.io/interceptionMode: TPROXY
    sidecar.istio.io/proxyConfig: "proxyStatsMatcher:\n  inclusionRegexps:\n  - \"\
      .*_outbound.*\"\n  - \".*_inbound.*\"\n"
  labels: {}
  name: machine-native-ops
  namespace: production
spec:
  template:
    metadata:
      annotations:
        instrumentation.opentelemetry.io/inject-java: 'true'
        instrumentation.opentelemetry.io/inject-python: 'true'
        prometheus.io/path: /stats/prometheus
        prometheus.io/port: '15020'
        prometheus.io/scrape: 'true'
