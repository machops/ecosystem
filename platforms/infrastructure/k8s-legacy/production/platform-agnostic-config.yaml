---
apiVersion: v1
data:
  cloud-provider.yaml: "# Multi-cloud support configuration\ncloudProviders:\n  #\
    \ AWS Configuration\n  aws:\n    enabled: true\n    services:\n      - compute:\
    \ ec2 | eks\n      - storage: s3 | ebs\n      - database: rds | aurora\n     \
    \ - cache: elasticache\n      - messaging: sqs | sns\n      - monitoring: cloudwatch\n\
    \      - logging: cloudwatch-logs\n      - secrets: secrets-manager | parameter-store\n\
    \  \n  # Google Cloud Platform Configuration\n  gcp:\n    enabled: true\n    services:\n\
    \      - compute: gce | gke\n      - storage: gcs\n      - database: cloud-sql\
    \ | spanner\n      - cache: memorystore\n      - messaging: pubsub\n      - monitoring:\
    \ cloud-monitoring\n      - logging: cloud-logging\n      - secrets: secret-manager\n\
    \  \n  # Azure Configuration\n  azure:\n    enabled: true\n    services:\n   \
    \   - compute: vm | aks\n      - storage: blob-storage | disk-storage\n      -\
    \ database: sql-database | cosmos-db\n      - cache: redis-cache\n      - messaging:\
    \ service-bus | event-grid\n      - monitoring: monitor\n      - logging: log-analytics\n\
    \      - secrets: key-vault\n  \n  # On-Premise Configuration\n  on-prem:\n  \
    \  enabled: true\n    services:\n      - compute: vmware | bare-metal | kubernetes\n\
    \      - storage: nfs | san | local\n      - database: postgresql | mysql\n  \
    \    - cache: redis | memcached\n      - messaging: rabbitmq | kafka\n      -\
    \ monitoring: prometheus | grafana\n      - logging: elasticsearch | loki\n  \
    \    - secrets: vault | external-secrets\n"
  database-backends.yaml: "# Multi-database backend support\ndatabaseBackends:\n \
    \ # Relational Databases\n  relational:\n    - name: postgresql\n      providers:\n\
    \        aws:\n          service: rds\n          engine: postgres\n          versions:\
    \ [13, 14, 15, 16]\n        gcp:\n          service: cloud-sql\n          engine:\
    \ postgres\n          versions: [13, 14, 15, 16]\n        azure:\n          service:\
    \ sql-database\n          engine: postgresql\n          versions: [12, 13, 14,\
    \ 15]\n        on-prem:\n          service: postgresql\n          versions: [13,\
    \ 14, 15, 16]\n          deployment: standalone | patroni | pgpool\n    \n   \
    \ - name: mysql\n      providers:\n        aws:\n          service: rds\n    \
    \      engine: mysql\n          versions: [8.0]\n        gcp:\n          service:\
    \ cloud-sql\n          engine: mysql\n          versions: [8.0]\n        azure:\n\
    \          service: sql-database\n          engine: mysql\n          versions:\
    \ [8.0]\n        on-prem:\n          service: mysql\n          versions: [8.0]\n\
    \          deployment: standalone | galera | proxysql\n  \n  # NoSQL Databases\n\
    \  nosql:\n    - name: mongodb\n      providers:\n        aws:\n          service:\
    \ documentdb\n          versions: [5.0, 6.0]\n        gcp:\n          service:\
    \ mongodb\n          versions: [5.0, 6.0]\n        azure:\n          service:\
    \ cosmos-db\n          api: mongodb\n          versions: [3.6, 4.0, 5.0]\n   \
    \     on-prem:\n          service: mongodb\n          versions: [5.0, 6.0]\n \
    \         deployment: replica-set | sharded-cluster\n    \n    - name: redis\n\
    \      providers:\n        aws:\n          service: elasticache\n          versions:\
    \ [6.2, 7.0]\n        gcp:\n          service: memorystore\n          versions:\
    \ [6.2, 7.0]\n        azure:\n          service: redis-cache\n          versions:\
    \ [6.2, 7.0]\n        on-prem:\n          service: redis\n          versions:\
    \ [6.2, 7.0]\n          deployment: standalone | sentinel | cluster\n"
  logging-backends.yaml: "# Multi-logging backend support\nloggingBackends:\n  - name:\
    \ cloudwatch-logs\n    provider: aws\n    type: logging\n    config:\n      logGroupName:\
    \ /aws/eks/cluster-name\n      retentionInDays: 30\n  \n  - name: cloud-logging\n\
    \    provider: gcp\n    type: logging\n    config:\n      project: ${GCP_PROJECT}\n\
    \      logId: machine-native-ops\n      retentionDays: 30\n  \n  - name: log-analytics\n\
    \    provider: azure\n    type: logging\n    config:\n      workspaceId: ${LOG_ANALYTICS_WORKSPACE_ID}\n\
    \      tableName: MachineNativeOps_CL\n  \n  - name: elasticsearch\n    provider:\
    \ on-prem\n    type: logging\n    config:\n      hosts: ${ES_HOSTS}\n      index:\
    \ machine-native-ops-${DATE}\n      retention: 30d\n  \n  - name: loki\n    provider:\
    \ cloud-native\n    type: logging\n    config:\n      url: ${LOKI_URL}\n     \
    \ retention: 30d\n"
  message-queue-backends.yaml: "# Multi-message queue support\nmessageQueues:\n  -\
    \ name: sqs\n    provider: aws\n    type: queue\n    config:\n      region: ${AWS_REGION}\n\
    \      maxReceiveCount: 3\n      visibilityTimeout: 30\n      messageRetentionPeriod:\
    \ 1209600  # 14 days\n  \n  - name: sns\n    provider: aws\n    type: pub-sub\n\
    \    config:\n      region: ${AWS_REGION}\n      messageRetentionPeriod: 1209600\n\
    \  \n  - name: pubsub\n    provider: gcp\n    type: pub-sub\n    config:\n   \
    \   project: ${GCP_PROJECT}\n      ackDeadlineSeconds: 600\n      messageRetentionDuration:\
    \ 604800s  # 7 days\n  \n  - name: service-bus\n    provider: azure\n    type:\
    \ message-bus\n    config:\n      namespace: ${SERVICE_BUS_NAMESPACE}\n      lockDuration:\
    \ PT5M\n      maxDeliveryCount: 3\n  \n  - name: rabbitmq\n    provider: on-prem\n\
    \    type: message-broker\n    config:\n      host: ${RABBITMQ_HOST}\n      port:\
    \ 5672\n      virtualHost: /\n      durable: true\n  \n  - name: kafka\n    provider:\
    \ on-prem\n    type: streaming-platform\n    config:\n      brokers: ${KAFKA_BROKERS}\n\
    \      retention: 604800000  # 7 days\n      partitions: 3\n      replicationFactor:\
    \ 2\n"
  monitoring-backends.yaml: "# Multi-monitoring backend support\nmonitoringBackends:\n\
    \  - name: prometheus\n    provider: cloud-native\n    type: metrics\n    config:\n\
    \      retention: 15d\n      scrapeInterval: 15s\n      evaluationInterval: 15s\n\
    \  \n  - name: cloudwatch\n    provider: aws\n    type: metrics\n    config:\n\
    \      namespace: MachineNativeOps\n      metricResolution: 60\n  \n  - name:\
    \ cloud-monitoring\n    provider: gcp\n    type: metrics\n    config:\n      project:\
    \ ${GCP_PROJECT}\n      metricKind: GAUGE\n  \n  - name: monitor\n    provider:\
    \ azure\n    type: metrics\n    config:\n      resourceGroup: ${RESOURCE_GROUP}\n\
    \      metricNamespace: MachineNativeOps\n"
  secrets-backends.yaml: "# Multi-secrets backend support\nsecretsBackends:\n  - name:\
    \ secrets-manager\n    provider: aws\n    type: secrets\n    config:\n      region:\
    \ ${AWS_REGION}\n      secretPrefix: machine-native-ops/\n  \n  - name: parameter-store\n\
    \    provider: aws\n    type: configuration\n    config:\n      region: ${AWS_REGION}\n\
    \      parameterPrefix: /machine-native-ops/\n  \n  - name: secret-manager\n \
    \   provider: gcp\n    type: secrets\n    config:\n      project: ${GCP_PROJECT}\n\
    \      secretPrefix: machine-native-ops-\n  \n  - name: key-vault\n    provider:\
    \ azure\n    type: secrets\n    config:\n      vaultName: ${KEY_VAULT_NAME}\n\
    \      secretPrefix: machine-native-ops--\n  \n  - name: vault\n    provider:\
    \ on-prem\n    type: secrets\n    config:\n      address: ${VAULT_ADDR}\n    \
    \  path: machine-native-ops\n      authMethod: token | kubernetes | aws | gcp"
  storage-backends.yaml: "# Multi-storage backend support\nstorageBackends:\n  # Object\
    \ Storage\n  objectStorage:\n    - name: primary-storage\n      providers:\n \
    \       aws:\n          service: s3\n          config:\n            bucket: ${BUCKET_NAME}\n\
    \            region: ${AWS_REGION}\n            endpoint: ${S3_ENDPOINT}\n   \
    \     gcp:\n          service: gcs\n          config:\n            bucket: ${BUCKET_NAME}\n\
    \            project: ${GCP_PROJECT}\n            location: ${GCP_LOCATION}\n\
    \        azure:\n          service: blob-storage\n          config:\n        \
    \    account: ${STORAGE_ACCOUNT}\n            container: ${CONTAINER_NAME}\n \
    \       minio:\n          service: s3-compatible\n          config:\n        \
    \    endpoint: ${MINIO_ENDPOINT}\n            accessKey: ${ACCESS_KEY}\n     \
    \       secretKey: ${SECRET_KEY}\n    \n    - name: backup-storage\n      providers:\n\
    \        aws:\n          service: s3\n          config:\n            bucket: ${BACKUP_BUCKET}\n\
    \            lifecycle:\n              transitions:\n                - days: 30\n\
    \                  storageClass: STANDARD_IA\n                - days: 90\n   \
    \               storageClass: GLACIER\n        gcp:\n          service: gcs\n\
    \          config:\n            bucket: ${BACKUP_BUCKET}\n            lifecycle:\n\
    \              - action: delete\n                condition:\n                \
    \  age: 90\n  \n  # Block Storage\n  blockStorage:\n    providers:\n      aws:\n\
    \        service: ebs\n        types:\n          - gp2: general-purpose-ssd\n\
    \          - gp3: general-purpose-ssd-v2\n          - io1: provisioned-iops\n\
    \          - io2: provisioned-iops-v2\n      gcp:\n        service: persistent-disk\n\
    \        types:\n          - pd-standard: standard\n          - pd-balanced: balanced\n\
    \          - pd-ssd: ssd\n      azure:\n        service: managed-disk\n      \
    \  types:\n          - standard_lrs: standard-locally-redundant\n          - premium_lrs:\
    \ premium-locally-redundant\n          - standardssd_lrs: standard-ssd-locally-redundant\n"
kind: ConfigMap
metadata:
  annotations:
    eco-base/audit-log-level: minimal
    eco-base/governance-policy: standard-v1
    eco-base/uri: eco-base://k8s/core/configmap/platform-agnostic-config
    eco-base/urn: urn:eco-base:k8s:core:configmap:platform-agnostic-config:sha256-5909806096c3875670e9f97055595242ed42e9a2cf4cb763f4eb68c3cac3a46b
  labels:
    app.kubernetes.io/component: eco-component
    app.kubernetes.io/instance: eco-instance
    app.kubernetes.io/name: platform-agnostic-config
    app.kubernetes.io/part-of: eco-base
    app.kubernetes.io/version: 1.0.0
    eco-base/environment: development
    eco-base/owner: eco-system
    eco-base/platform: core
  name: platform-agnostic-config
  namespace: production
