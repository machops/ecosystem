---
apiVersion: v1
data:
  benchmark-config.yaml: "version: \"1.0\"\n\n# Baseline Performance Targets\nbaseline:\n\
    \  api:\n    throughput:\n      requests_per_second: 1000\n      concurrent_connections:\
    \ 500\n    latency:\n      p50: 50ms\n      p95: 200ms\n      p99: 500ms\n   \
    \ error_rate: 0.01  # 1%\n  \n  database:\n    query_latency:\n      p50: 10ms\n\
    \      p95: 50ms\n      p99: 100ms\n    connection_pool:\n      max_connections:\
    \ 100\n      min_connections: 10\n      idle_timeout: 300s\n  \n  cache:\n   \
    \ hit_rate: 0.90  # 90%\n    latency:\n      p50: 1ms\n      p95: 5ms\n      p99:\
    \ 10ms\n  \n  memory:\n    max_heap_size: \"2Gi\"\n    gc_pause_target: 100ms\n\
    \    gc_overhead_target: 0.10  # 10%\n  \n  cpu:\n    max_utilization: 0.80  #\
    \ 80%\n    steady_state_utilization: 0.50  # 50%\n\n# Performance Regression Detection\n\
    regression_detection:\n  enabled: true\n  thresholds:\n    throughput_degradation:\
    \ 0.05  # 5%\n    latency_increase: 0.10  # 10%\n    error_rate_increase: 0.02\
    \  # 2%\n    memory_increase: 0.15  # 15%\n    cpu_increase: 0.15  # 15%\n  alert_on_regression:\
    \ true\n  create_jira_ticket: true\n  slack_channel: \"#performance-alerts\"\n\
    \n# Automated Performance Testing\nautomated_testing:\n  enabled: true\n  schedule:\n\
    \    smoke_tests: \"*/5 * * * *\"  # Every 5 minutes\n    load_tests: \"0 * *\
    \ * *\"  # Every hour\n    stress_tests: \"0 2 * * *\"  # Daily at 2 AM\n    endurance_tests:\
    \ \"0 0 * * 0\"  # Weekly on Sunday\n  \n  test_scenarios:\n    - name: \"api-health-check\"\
    \n      type: \"smoke\"\n      endpoint: \"/health\"\n      expected_status: 200\n\
    \      timeout: 5s\n      max_latency: 100ms\n    \n    - name: \"api-read-operations\"\
    \n      type: \"load\"\n      endpoint: \"/api/v1/data\"\n      method: \"GET\"\
    \n      requests_per_second: 100\n      duration: 60s\n      max_latency: 200ms\n\
    \      max_error_rate: 0.01\n    \n    - name: \"api-write-operations\"\n    \
    \  type: \"load\"\n      endpoint: \"/api/v1/data\"\n      method: \"POST\"\n\
    \      requests_per_second: 50\n      duration: 60s\n      max_latency: 300ms\n\
    \      max_error_rate: 0.02\n    \n    - name: \"concurrent-users\"\n      type:\
    \ \"stress\"\n      users: 1000\n      ramp_up: 60s\n      duration: 300s\n  \
    \    max_latency: 500ms\n      max_error_rate: 0.05\n    \n    - name: \"memory-leak-test\"\
    \n      type: \"endurance\"\n      duration: 3600s  # 1 hour\n      requests_per_second:\
    \ 10\n      max_memory_growth: 10%\n  \n  tools:\n    - name: \"k6\"\n      enabled:\
    \ true\n      version: \"latest\"\n      config: \"k6-config.js\"\n    \n    -\
    \ name: \"locust\"\n      enabled: true\n      version: \"latest\"\n      config:\
    \ \"locustfile.py\"\n    \n    - name: \"jmeter\"\n      enabled: false\n    \
    \  version: \"5.5\"\n      config: \"jmx/\"\n\n# Performance Trend Analysis\n\
    trend_analysis:\n  enabled: true\n  retention_days: 90\n  aggregation_intervals:\n\
    \    - \"1m\"  # 1 minute\n    - \"5m\"  # 5 minutes\n    - \"15m\"  # 15 minutes\n\
    \    - \"1h\"  # 1 hour\n    - \"1d\"  # 1 day\n  \n  metrics_to_track:\n    -\
    \ \"http_requests_total\"\n    - \"http_request_duration_seconds\"\n    - \"http_requests_failed_total\"\
    \n    - \"container_cpu_usage_seconds_total\"\n    - \"container_memory_usage_bytes\"\
    \n    - \"redis_commands_total\"\n    - \"redis_query_duration_seconds\"\n   \
    \ - \"postgres_query_duration_seconds\"\n    - \"postgres_connections_active\"\
    \n    - \"istio_requests_total\"\n    - \"istio_request_duration_milliseconds\"\
    \n  \n  predictions:\n    enabled: true\n    model: \"linear_regression\"\n  \
    \  forecast_days: 7\n    confidence_interval: 0.95\n\n# Performance Optimization\
    \ Recommendations\noptimization_recommendations:\n  enabled: true\n  analysis_interval:\
    \ \"1h\"\n  \n  rules:\n    - name: \"high_latency_detection\"\n      condition:\
    \ \"p95_latency > 300ms\"\n      severity: \"warning\"\n      recommendation:\
    \ \"Consider adding more replicas or optimizing database queries\"\n      actions:\n\
    \        - \"check_slow_queries\"\n        - \"review_database_indexes\"\n   \
    \     - \"consider_caching\"\n    \n    - name: \"low_cache_hit_rate\"\n     \
    \ condition: \"cache_hit_rate < 0.80\"\n      severity: \"warning\"\n      recommendation:\
    \ \"Cache hit rate is below 80%. Review caching strategy.\"\n      actions:\n\
    \        - \"increase_cache_ttl\"\n        - \"review_cache_keys\"\n        -\
    \ \"optimize_cache_size\"\n    \n    - name: \"high_memory_usage\"\n      condition:\
    \ \"memory_usage > 0.85\"\n      severity: \"critical\"\n      recommendation:\
    \ \"Memory usage is above 85%. Immediate action required.\"\n      actions:\n\
    \        - \"increase_memory_limits\"\n        - \"check_for_memory_leaks\"\n\
    \        - \"optimize_gc_settings\"\n    \n    - name: \"high_cpu_usage\"\n  \
    \    condition: \"cpu_usage > 0.85\"\n      severity: \"critical\"\n      recommendation:\
    \ \"CPU usage is above 85%. Consider scaling up.\"\n      actions:\n        -\
    \ \"increase_cpu_limits\"\n        - \"add_more_replicas\"\n        - \"optimize_cpu_intensive_operations\"\
    \n    \n    - name: \"database_connection_exhaustion\"\n      condition: \"active_connections\
    \ > max_connections * 0.8\"\n      severity: \"warning\"\n      recommendation:\
    \ \"Database connection pool is nearly exhausted.\"\n      actions:\n        -\
    \ \"increase_max_connections\"\n        - \"review_connection_leaks\"\n      \
    \  - \"optimize_query_performance\"\n    \n    - name: \"high_error_rate\"\n \
    \     condition: \"error_rate > 0.05\"\n      severity: \"critical\"\n      recommendation:\
    \ \"Error rate is above 5%. Immediate investigation required.\"\n      actions:\n\
    \        - \"check_application_logs\"\n        - \"review_recent_deployments\"\
    \n        - \"check_external_dependencies\"\n  \n  auto_apply:\n    enabled: false\
    \  # Manual approval required\n    notify_before: true\n    rollback_on_failure:\
    \ true\n\n# Performance SLAs\nslas:\n  enabled: true\n  reporting_interval: \"\
    1h\"\n  \n  api_performance:\n    availability: 0.9999  # 99.99%\n    uptime_target:\
    \ 99.99%\n    response_time_p95: 200ms\n    response_time_p99: 500ms\n    error_rate:\
    \ 0.001  # 0.1%\n  \n  database_performance:\n    availability: 0.9999\n    query_time_p95:\
    \ 50ms\n    connection_utilization: 0.80\n  \n  cache_performance:\n    availability:\
    \ 0.999\n    hit_rate: 0.90\n    response_time_p95: 5ms\n  \n  infrastructure_performance:\n\
    \    pod_ready_time: 30s\n    deployment_time: 300s\n    failover_time: 300s\n\
    \  \n  sla_breach_actions:\n    - notify_oncall\n    - create_incident\n    -\
    \ post_to_slack\n    - update_status_page\n    - initiate_rollback\n\n# Benchmark\
    \ Reports\nreports:\n  enabled: true\n  \n  daily_report:\n    enabled: true\n\
    \    schedule: \"0 6 * * *\"  # 6 AM daily\n    recipients:\n      - \"engineering@machinenativeops.com\"\
    \n      - \"ops@machinenativeops.com\"\n    include:\n      - performance_summary\n\
    \      - regression_alerts\n      - optimization_recommendations\n      - sla_compliance\n\
    \  \n  weekly_report:\n    enabled: true\n    schedule: \"0 8 * * 1\"  # 8 AM\
    \ Monday\n    recipients:\n      - \"management@machinenativeops.com\"\n     \
    \ - \"engineering@machinenativeops.com\"\n      - \"ops@machinenativeops.com\"\
    \n    include:\n      - performance_trends\n      - capacity_planning\n      -\
    \ optimization_impact\n      - sla_compliance_trend\n  \n  monthly_report:\n \
    \   enabled: true\n    schedule: \"0 8 1 * *\"  # 8 AM on 1st of month\n    recipients:\n\
    \      - \"executive@machinenativeops.com\"\n      - \"management@machinenativeops.com\"\
    \n      - \"engineering@machinenativeops.com\"\n      - \"ops@machinenativeops.com\"\
    \n    include:\n      - performance_summary\n      - optimization_achievements\n\
    \      - capacity_forecast\n      - sla_compliance_report\n      - cost_analysis\n\
    \      - recommendations\n\n# Performance Monitoring Integration\nmonitoring:\n\
    \  prometheus:\n    enabled: true\n    scrape_interval: \"15s\"\n    retention:\
    \ \"30d\"\n  \n  grafana:\n    enabled: true\n    dashboard: \"performance-benchmark\"\
    \n    auto_refresh: \"30s\"\n  \n  alertmanager:\n    enabled: true\n    routes:\n\
    \      - match:\n          severity: critical\n        receiver: \"oncall-engineer\"\
    \n      - match:\n          severity: warning\n        receiver: \"engineering-team\"\
    \n      - match:\n          severity: info\n        receiver: \"performance-team\""
kind: ConfigMap
metadata:
  annotations:
    eco-base/audit-log-level: minimal
    eco-base/governance-policy: standard-v1
    eco-base/uri: eco-base://k8s/core/configmap/performance-benchmark-config
    eco-base/urn: urn:eco-base:k8s:core:configmap:performance-benchmark-config:sha256-9b9f11664e0c4c5504a8c49f7d4922c90615a279fedc65b2116477257265f014
  labels:
    app.kubernetes.io/component: eco-component
    app.kubernetes.io/instance: eco-instance
    app.kubernetes.io/name: performance-benchmark
    app.kubernetes.io/part-of: eco-base
    app.kubernetes.io/version: 1.0.0
    eco-base/environment: development
    eco-base/governance: aligned
    eco-base/owner: eco-system
    eco-base/part-of: eco-base
    eco-base/platform: core
    environment: production
  name: performance-benchmark-config
  namespace: production
