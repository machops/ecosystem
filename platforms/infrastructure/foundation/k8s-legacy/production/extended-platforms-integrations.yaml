---
apiVersion: v1
data:
  additional-integrations.yaml: "additionalIntegrations:\n  # Vercel Integration\n\
    \  vercel:\n    enabled: ${VERCEL_ENABLED:-false}\n    teamId: ${VERCEL_TEAM_ID:-}\n\
    \    projectId: ${VERCEL_PROJECT_ID:-}\n    deployments:\n      preview:\n   \
    \     branch: preview/*\n        environment:\n          - name: ENVIRONMENT\n\
    \            value: preview\n      production:\n        branch: main\n       \
    \ environment:\n          - name: ENVIRONMENT\n            value: production\n\
    \    domains:\n      - machine-native-ops.com\n      - www.machine-native-ops.com\n\
    \    env:\n      - name: DATABASE_URL\n        value: ${DATABASE_URL:-}\n    \
    \  - name: REDIS_URL\n        value: ${REDIS_URL:-}\n      - name: NEXT_PUBLIC_API_URL\n\
    \        value: ${NEXT_PUBLIC_API_URL:-https://api.machine-native-ops.com}\n \
    \   build:\n      command: npm run build\n      outputDirectory: .next\n    webhooks:\n\
    \      enabled: true\n      url: ${WEBHOOK_ENDPOINT:-https://api.machine-native-ops.com/webhooks/vercel}\n\
    \      secret: ${VERCEL_WEBHOOK_SECRET:-}\n  \n  # Netlify Integration\n  netlify:\n\
    \    enabled: ${NETLIFY_ENABLED:-false}\n    siteId: ${NETLIFY_SITE_ID:-}\n  \
    \  build:\n      command: npm run build\n      publish: dist\n      functions:\
    \ netlify/functions\n    domains:\n      - machine-native-ops.netlify.app\n  \
    \  env:\n      - name: DATABASE_URL\n        value: ${DATABASE_URL:-}\n      -\
    \ name: REDIS_URL\n        value: ${REDIS_URL:-}\n    headers:\n      - pattern:\
    \ /*\n        headers:\n          - name: X-Frame-Options\n            value:\
    \ DENY\n          - name: X-Content-Type-Options\n            value: nosniff\n\
    \    redirects:\n      - from: /old-path/*\n        to: /new-path/:splat\n   \
    \     status: 301\n    webhooks:\n      enabled: true\n      url: ${WEBHOOK_ENDPOINT:-https://api.machine-native-ops.com/webhooks/netlify}\n\
    \      secret: ${NETLIFY_WEBHOOK_SECRET:-}\n  \n  # Render Integration\n  render:\n\
    \    enabled: ${RENDER_ENABLED:-false}\n    serviceId: ${RENDER_SERVICE_ID:-}\n\
    \    type: web_service\n    env:\n      - name: DATABASE_URL\n        value: ${DATABASE_URL:-}\n\
    \      - name: REDIS_URL\n        value: ${REDIS_URL:-}\n    build:\n      command:\
    \ npm run build\n      outputDirectory: dist\n    scaling:\n      instances: 1\n\
    \      memory: 512\n      cpu: 0.5\n    healthCheck:\n      enabled: true\n  \
    \    path: /health\n      interval: 30\n      timeout: 5\n    webhooks:\n    \
    \  enabled: true\n      url: ${WEBHOOK_ENDPOINT:-https://api.machine-native-ops.com/webhooks/render}\n\
    \      secret: ${RENDER_WEBHOOK_SECRET:-}\n  \n  # Railway Integration\n  railway:\n\
    \    enabled: ${RAILWAY_ENABLED:-false}\n    projectId: ${RAILWAY_PROJECT_ID:-}\n\
    \    environment:\n      - name: DATABASE_URL\n        value: ${DATABASE_URL:-}\n\
    \      - name: REDIS_URL\n        value: ${REDIS_URL:-}\n    services:\n     \
    \ - name: machine-native-ops\n        env: node\n        buildCommand: npm run\
    \ build\n        startCommand: npm start\n        scaling:\n          minInstances:\
    \ 1\n          maxInstances: 3\n    webhooks:\n      enabled: true\n      url:\
    \ ${WEBHOOK_ENDPOINT:-https://api.machine-native-ops.com/webhooks/railway}\n \
    \     secret: ${RAILWAY_WEBHOOK_SECRET:-}"
  cloudflare-integrations.yaml: "cloudflareIntegrations:\n  # Webhook Integration\n\
    \  webhook:\n    enabled: ${CLOUDFLARE_WEBHOOK_ENABLED:-true}\n    secret: ${CLOUDFLARE_WEBHOOK_SECRET:-}\n\
    \    endpoints:\n      - url: ${API_WEBHOOK_URL:-https://api.machine-native-ops.com/webhooks/cloudflare}\n\
    \        events:\n          - worker.script.published\n          - worker.script.updated\n\
    \          - worker.script.deployed\n        headers:\n          - name: User-Agent\n\
    \            value: Cloudflare-Webhook\n          - name: X-Cloudflare-Signature\n\
    \            value: ${CLOUDFLARE_WEBHOOK_SECRET:-}\n  \n  # Analytics Integration\n\
    \  analytics:\n    enabled: ${CLOUDFLARE_ANALYTICS_ENABLED:-true}\n    provider:\
    \ ${ANALYTICS_PROVIDER:-google-analytics}\n    trackingId: ${GA_TRACKING_ID:-}\n\
    \    metrics:\n      - pageViews\n      - uniqueVisitors\n      - bounceRate\n\
    \      - sessionDuration\n    events:\n      - workerInvocation\n      - databaseQuery\n\
    \      - storageOperation\n    dimensions:\n      - workerName\n      - route\n\
    \      - status\n      - errorType\n  \n  # Logging Integration\n  logging:\n\
    \    enabled: ${CLOUDFLARE_LOGGING_ENABLED:-true}\n    provider: ${LOGGING_PROVIDER:-cloudflare}\n\
    \    logPush:\n      enabled: true\n      destination:\n        type: r2\n   \
    \     bucketName: ${CLOUDFLARE_R2_BUCKET:-machine-native-ops-logs}\n        path:\
    \ /logs/worker/{date}\n    logLevel: ${LOG_LEVEL:-info}\n    includeMetadata:\
    \ true\n    sampling: ${LOG_SAMPLING:-1.0}\n  \n  # Monitoring Integration\n \
    \ monitoring:\n    enabled: ${CLOUDFLARE_MONITORING_ENABLED:-true}\n    provider:\
    \ ${MONITORING_PROVIDER:-prometheus}\n    metricsEndpoint: ${PROMETHEUS_REMOTE_WRITE_URL:-}\n\
    \    metrics:\n      - name: worker_requests_total\n        type: counter\n  \
    \      labels:\neco-base/part-of: eco-base\neco-base/governance: aligned\n   \
    \       - worker_name\n          - route\n          - status\n      - name: worker_duration_seconds\n\
    \        type: histogram\n        labels:\neco-base/part-of: eco-base\neco-base/governance:\
    \ aligned\n          - worker_name\n          - route\n        buckets:\n    \
    \      - 0.005\n          - 0.01\n          - 0.025\n          - 0.05\n      \
    \    - 0.1\n          - 0.25\n          - 0.5\n          - 1\n          - 2.5\n\
    \          - 5\n          - 10\n      - name: kv_operations_total\n        type:\
    \ counter\n        labels:\neco-base/part-of: eco-base\neco-base/governance: aligned\n\
    \          - operation\n          - status\n      - name: r2_operations_total\n\
    \        type: counter\n        labels:\neco-base/part-of: eco-base\neco-base/governance:\
    \ aligned\n          - operation\n          - status\n  \n  # D1 Database Integration\n\
    \  d1Integration:\n    enabled: ${CLOUDFLARE_D1_INTEGRATION_ENABLED:-true}\n \
    \   connectionPooling:\n      enabled: true\n      maxConnections: 10\n      idleTimeout:\
    \ 30\n    queryLogging:\n      enabled: true\n      slowQueryThreshold: 1000 \
    \ # milliseconds\n    migrations:\n      autoApply: true\n      path: ./cloudflare/d1/migrations\n\
    \    backups:\n      enabled: true\n      schedule: \"0 2 * * *\"  # Daily at\
    \ 2 AM\n      retention: 7\n  \n  # R2 Storage Integration\n  r2Integration:\n\
    \    enabled: ${CLOUDFLARE_R2_INTEGRATION_ENABLED:-true}\n    lifecycle:\n   \
    \   enabled: true\n      rules:\n        - id: transition-to-infrequent-access\n\
    \          status: enabled\n          transitions:\n            - days: 30\n \
    \             storageClass: INFREQUENT_ACCESS\n        - id: expire-old-files\n\
    \          status: enabled\n          expiration:\n            days: 365\n   \
    \ versioning:\n      enabled: true\n      maxVersions: 10\n    encryption:\n \
    \     type: AES256\n      kmsKeyId: ${KMS_KEY_ID:-}\n  \n  # Pages Integration\n\
    \  pagesIntegration:\n    enabled: ${CLOUDFLARE_PAGES_INTEGRATION_ENABLED:-true}\n\
    \    previewDeployments:\n      enabled: true\n      branch: preview/*\n     \
    \ environment:\n        - name: ENVIRONMENT\n          value: preview\n    productionBranch:\
    \ main\n    build:\n      command: npm run build\n      outputDirectory: dist\n\
    \      environment:\n        - name: NODE_ENV\n          value: production\n \
    \       - name: VITE_API_URL\n          value: ${API_URL:-https://api.machine-native-ops.com}\n\
    \    headers:\n      - pattern: /*\n        headers:\n          - name: X-Frame-Options\n\
    \            value: DENY\n          - name: X-Content-Type-Options\n         \
    \   value: nosniff\n          - name: X-XSS-Protection\n            value: 1;\
    \ mode=block\n          - name: Strict-Transport-Security\n            value:\
    \ max-age=31536000; includeSubDomains\n    redirects:\n      - source: /old-path/*\n\
    \        destination: /new-path/:splat\n        statusCode: 301\n    rewrites:\n\
    \      - source: /api/*\n        destination: https://api.machine-native-ops.com/:splat\n"
  gitbook-integrations.yaml: "gitbookIntegrations:\n  # GitHub Integration\n  github:\n\
    \    enabled: ${GITBOOK_GITHUB_INTEGRATION_ENABLED:-true}\n    repository: MachineNativeOps/machine-native-ops\n\
    \    syncBranches:\n      - main\n      - develop\n    autoSync: true\n    syncInterval:\
    \ 300  # 5 minutes\n    syncOptions:\n      - syncPages: true\n      - syncAssets:\
    \ true\n      - syncNavigation: true\n      - createPullRequests: true\n    webhooks:\n\
    \      enabled: true\n      events:\n        - push\n        - pull_request\n\
    \        - pull_request_review\n      secret: ${GITHUB_WEBHOOK_SECRET:-}\n  \n\
    \  # Slack Integration\n  slack:\n    enabled: ${GITBOOK_SLACK_INTEGRATION_ENABLED:-false}\n\
    \    webhookUrl: ${SLACK_WEBHOOK_URL:-}\n    channels:\n      - name: documentation-updates\n\
    \        events:\n          - page_published\n          - page_updated\n     \
    \     - page_deleted\n        message: |\n          :page_facing_up: *GitBook\
    \ Update*\n          \n          **Event**: {{event}}\n          **Page**: {{page.title}}\n\
    \          **Author**: {{author.name}}\n          **URL**: {{page.url}}\n    \
    \      \n          View changes: {{page.url}}\n      - name: api-updates\n   \
    \     events:\n          - api_reference_updated\n        message: |\n       \
    \   :books: *API Reference Updated*\n          \n          **Event**: {{event}}\n\
    \          **API**: {{api.name}}\n          **Version**: {{api.version}}\n   \
    \       \n          View documentation: {{api.url}}\n  \n  # Analytics Integration\n\
    \  analytics:\n    enabled: ${GITBOOK_ANALYTICS_ENABLED:-true}\n    providers:\n\
    \      - name: google-analytics\n        enabled: ${GA_ENABLED:-false}\n     \
    \   trackingId: ${GA_TRACKING_ID:-}\n        anonymizeIp: true\n        allowAdPersonalizationSignals:\
    \ false\n      - name: plausible\n        enabled: ${PLAUSIBLE_ENABLED:-false}\n\
    \        domain: ${PLAUSIBLE_DOMAIN:-machine-native-ops.gitbook.io}\n        selfHosted:\
    \ false\n      - name: amplitude\n        enabled: ${AMPLITUDE_ENABLED:-false}\n\
    \        apiKey: ${AMPLITUDE_API_KEY:-}\n        serverUrl: ${AMPLITUDE_SERVER_URL:-https://api.amplitude.com}\n\
    \    events:\n      - page_view\n      - search\n      - page_scroll\n      -\
    \ time_on_page\n  \n  # SEO Integration\n  seo:\n    enabled: ${GITBOOK_SEO_ENABLED:-true}\n\
    \    title: MachineNativeOps Documentation\n    description: Comprehensive documentation\
    \ for the MachineNativeOps platform\n    keywords:\n      - MachineNativeOps\n\
    \      - Machine Learning\n      - AI\n      - Infrastructure\n      - DevOps\n\
    \    ogImage: ${GITBOOK_OG_IMAGE:-https://machine-native-ops.com/og-image.png}\n\
    \    twitterCard: summary_large_image\n    canonicalUrl: ${GITBOOK_CANONICAL_URL:-https://machine-native-ops.gitbook.io}\n\
    \    robots: index,follow\n    sitemap:\n      enabled: true\n      changefreq:\
    \ weekly\n      priority: 0.8\n  \n  # API Reference Integration\n  apiReference:\n\
    \    enabled: ${GITBOOK_API_REFERENCE_ENABLED:-true}\n    openApiSpec: ./openapi.yaml\n\
    \    theme: light\n    servers:\n      - url: ${API_URL:-https://api.machine-native-ops.com}\n\
    \        description: Production API\n      - url: https://staging-api.machine-native-ops.com\n\
    \        description: Staging API\n    authentication:\n      type: bearer\n \
    \     scheme: jwt\n      bearerFormat: JWT\n    codeSamples:\n      enabled: true\n\
    \      languages:\n        - javascript\n        - python\n        - go\n    \
    \    - rust\n        - curl\n  \n  # Webhooks\n  webhooks:\n    enabled: ${GITBOOK_WEBHOOKS_ENABLED:-true}\n\
    \    secret: ${GITBOOK_WEBHOOK_SECRET:-}\n    events:\n      - content.published\n\
    \      - content.updated\n      - content.deleted\n      - content.moved\n   \
    \ endpoints:\n      - url: ${WEBHOOK_ENDPOINT:-https://api.machine-native-ops.com/webhooks/gitbook}\n\
    \        secret: ${WEBHOOK_SECRET:-}\n        events:\n          - content.published\n\
    \          - content.updated\n        headers:\n          - name: User-Agent\n\
    \            value: GitBook-Webhook\n          - name: X-GitBook-Signature\n \
    \           value: ${GITBOOK_WEBHOOK_SECRET:-}\n      - url: ${SLACK_WEBHOOK_URL:-}\n\
    \        secret: ${SLACK_WEBHOOK_SECRET:-}\n        events:\n          - content.published\n\
    \          - content.updated\n        format: slack\n  \n  # Search Integration\n\
    \  search:\n    enabled: ${GITBOOK_SEARCH_ENABLED:-true}\n    provider: algolia\n\
    \    apiKey: ${ALGOLIA_API_KEY:-}\n    appId: ${ALGOLIA_APP_ID:-}\n    indexName:\
    \ ${ALGOLIA_INDEX_NAME:-machine-native-ops-docs}\n    searchableAttributes:\n\
    \      - title\n      - content\n      - headings\n    attributesToRetrieve:\n\
    \      - title\n      - content\n      - url\n      - excerpt\n    customSettings:\n\
    \      - searchableAttributes:\n          - unordered(title)\n          - unordered(content)\n\
    \      - attributesToSnippet:\n          - content:20\n      - snippetEllipsisText:\
    \ \"...\"\n"
  supabase-integrations.yaml: "supabaseIntegrations:\n  # Webhook Integration\n  webhook:\n\
    \    enabled: ${SUPABASE_WEBHOOK_ENABLED:-true}\n    secret: ${SUPABASE_WEBHOOK_SECRET:-}\n\
    \    endpoints:\n      - url: ${API_WEBHOOK_URL:-https://api.machine-native-ops.com/webhooks/supabase}\n\
    \        events:\n          - database.*\n          - storage.*\n          - auth.*\n\
    \        headers:\n          - name: User-Agent\n            value: Supabase-Webhook\n\
    \          - name: X-Supabase-Signature\n            value: ${SUPABASE_WEBHOOK_SECRET:-}\n\
    \  \n  # PostgreSQL Integration\n  postgresqlIntegration:\n    enabled: ${SUPABASE_POSTGRESQL_INTEGRATION_ENABLED:-true}\n\
    \    connectionString: ${SUPABASE_DATABASE_URL:-}\n    poolSize: ${SUPABASE_POOL_SIZE:-10}\n\
    \    connectionTimeout: 30\n    queryTimeout: 60\n    idleTimeout: 300\n    sslMode:\
    \ require\n    migrations:\n      autoApply: true\n      path: ./supabase/migrations\n\
    \      table: supabase_migrations\n    replication:\n      enabled: false\n  \
    \    slotName: supabase_replication_slot\n      publicationName: supabase_publication\n\
    \    backups:\n      enabled: true\n      retention: 7\n      schedule: \"0 2\
    \ * * *\"  # Daily at 2 AM\n  \n  # Realtime Integration\n  realtimeIntegration:\n\
    \    enabled: ${SUPABASE_REALTIME_INTEGRATION_ENABLED:-true}\n    channels:\n\
    \      - name: notifications\n        config:\n          broadcast:\n        \
    \    - self: true\n            - others: true\n          presence:\n         \
    \   - key: user_id\n          postgresChanges:\n            - event: INSERT\n\
    \              schema: public\n              table: notifications\n          \
    \    filter: user_id=eq.user_id()\n    subscriptions:\n      - name: user-notifications\n\
    \        channel: notifications\n        events:\n          - postgres_changes\n\
    \          - broadcast\n          - presence\n    jwt:\n      issuer: https://${SUPABASE_PROJECT_ID}.supabase.co/auth/v1\n\
    \      audience: authenticated\n      expiration: 3600\n  \n  # Storage Integration\n\
    \  storageIntegration:\n    enabled: ${SUPABASE_STORAGE_INTEGRATION_ENABLED:-true}\n\
    \    buckets:\n      - name: documents\n        config:\n          public: false\n\
    \          fileSizeLimit: 10485760  # 10MB\n          allowedMimeTypes:\n    \
    \        - application/pdf\n            - application/msword\n          cors:\n\
    \            allowedOrigins:\n              - https://machine-native-ops.com\n\
    \            allowedMethods:\n              - POST\n              - GET\n    \
    \          - PUT\n              - DELETE\n    policies:\n      - name: documents-select-own\n\
    \        bucket: documents\n        operation: SELECT\n        definition: \"\
    auth.uid() = storage.foldername\"\n    transformations:\n      enabled: true\n\
    \      formats:\n        - thumbnail:\n            width: 200\n            height:\
    \ 200\n            fit: cover\n        - medium:\n            width: 800\n   \
    \         height: 600\n            fit: inside\n  \n  # Edge Functions Integration\n\
    \  edgeFunctionsIntegration:\n    enabled: ${SUPABASE_EDGE_FUNCTIONS_INTEGRATION_ENABLED:-true}\n\
    \    runtime: deno\n    timeout: 60\n    memory: 512\n    functions:\n      -\
    \ name: webhook-handler\n        path: /webhook\n        method: POST\n      \
    \  code: ./supabase/functions/webhook-handler/index.ts\n        env:\n       \
    \   - name: WEBHOOK_SECRET\n            value: ${WEBHOOK_SECRET:-}\n         \
    \ - name: DATABASE_URL\n            value: ${SUPABASE_DATABASE_URL:-}\n    deployment:\n\
    \      autoDeploy: true\n      branch: main\n    monitoring:\n      enabled: true\n\
    \      metricsEndpoint: ${PROMETHEUS_REMOTE_WRITE_URL:-}\n      logs:\n      \
    \  enabled: true\n        level: info\n  \n  # Auth Integration\n  authIntegration:\n\
    \    enabled: ${SUPABASE_AUTH_INTEGRATION_ENABLED:-true}\n    providers:\n   \
    \   - name: email\n        enabled: true\n        requireEmailConfirmation: true\n\
    \      - name: google\n        enabled: ${GOOGLE_AUTH_ENABLED:-true}\n       \
    \ clientId: ${GOOGLE_OAUTH_CLIENT_ID:-}\n        clientSecret: ${GOOGLE_OAUTH_CLIENT_SECRET:-}\n\
    \        scopes:\n          - email\n          - profile\n      - name: github\n\
    \        enabled: ${GITHUB_AUTH_ENABLED:-true}\n        clientId: ${GITHUB_OAUTH_CLIENT_ID:-}\n\
    \        clientSecret: ${GITHUB_OAUTH_CLIENT_SECRET:-}\n        scopes:\n    \
    \      - user:email\n          - read:user\n    session:\n      duration: 3600\
    \  # 1 hour\n      inactivityTimeout: 300  # 5 minutes\n    mfa:\n      enabled:\
    \ ${SUPABASE_MFA_ENABLED:-true}\n      factor: totp\n      issuer: MachineNativeOps\n\
    \    jwt:\n      secret: ${SUPABASE_JWT_SECRET:-}\n      expiration: 3600\n  \
    \    refreshExpiration: 604800  # 7 days\n"
kind: ConfigMap
metadata:
  annotations:
    eco-base/audit-log-level: minimal
    eco-base/governance-policy: standard-v1
    eco-base/uri: eco-base://k8s/core/configmap/extended-platforms-integrations
    eco-base/urn: urn:eco-base:k8s:core:configmap:extended-platforms-integrations:sha256-76168e68c96a7f0f1fd0b46960fff08bf8a39f8c75532b29dc647b29526fb880
  labels:
    app.kubernetes.io/component: eco-component
    app.kubernetes.io/instance: eco-instance
    app.kubernetes.io/name: extended-platforms-integrations
    app.kubernetes.io/part-of: eco-base
    app.kubernetes.io/version: 1.0.0
    eco-base/environment: development
    eco-base/owner: eco-system
    eco-base/platform: core
  name: extended-platforms-integrations
  namespace: production
