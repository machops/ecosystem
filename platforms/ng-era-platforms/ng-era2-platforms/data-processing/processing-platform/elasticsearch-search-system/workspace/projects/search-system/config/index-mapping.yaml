# @ECO-governed
# @ECO-layer: search
# @ECO-semantic: index-mapping
# @ECO-audit-trail: ../../engine/governance/GL_SEMANTIC_ANCHOR.json
# 
# GL Unified Architecture Governance Framework Activated

# Index Mapping Configuration
# ECO-Layer: GL30-49 (Execution)
# Closure-Signal: manifest

version: "1.0.0"
index:
  name: documents
  settings:
    number_of_shards: 3
    number_of_replicas: 2
    refresh_interval: "1s"
    
  analysis:
    analyzer:
      custom_text_analyzer:
        type: custom
        tokenizer: standard
        filter:
          - lowercase
          - stop
          - snowball
      
      autocomplete_analyzer:
        type: custom
        tokenizer: edge_ngram
        filter:
          - lowercase
    
    tokenizer:
      edge_ngram:
        type: edge_ngram
        min_gram: 2
        max_gram: 15
        token_chars: ['letter', 'digit']
    
    filter:
      snowball:
        type: snowball
        language: English

  mappings:
    properties:
      id:
        type: keyword
      
      title:
        type: text
        analyzer: custom_text_analyzer
        fields:
          suggest:
            type: text
            analyzer: autocomplete_analyzer
          keyword:
            type: keyword
      
      description:
        type: text
        analyzer: custom_text_analyzer
      
      content:
        type: text
        analyzer: custom_text_analyzer
      
      tags:
        type: keyword
      
      category:
        type: keyword
      
      created_at:
        type: date
        format: "strict_date_optional_time||epoch_millis"
      
      updated_at:
        type: date
        format: "strict_date_optional_time||epoch_millis"
      
      author:
        type: keyword
      
      status:
        type: keyword
      
      priority:
        type: integer
      
      metadata:
  annotations:
    eco-base/urn: "urn:eco-base:platform:resource:ng-era-platforms:ng-era2-platforms:data-processing:processing-platform:elasticsearch-search-system:workspace:projects:search-system:config:index-mapping.yaml"
    eco-base/uri: "eco-base://platform/resource/ng-era-platforms/ng-era2-platforms/data-processing/processing-platform/elasticsearch-search-system/workspace/projects/search-system/config/index-mapping.yaml"
        type: object
        dynamic: true