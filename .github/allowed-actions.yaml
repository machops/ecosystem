# GitHub Actions Policy Configuration
# URI: indestructibleeco://policy/github-actions
# Schema: v1

policy:
  # Require all actions to be from approved organizations
  require_org_ownership: false
  
  # List of allowed organizations
  allowed_organizations:
    - indestructibleorg
    - actions
    - google-github-actions
    - azure
    - docker
    - github
  
  # Require all actions to be pinned to full-length commit SHAs
  require_sha_pinning: false
  
  # Block tag references (e.g., @v1, @v2, @main)
  block_tag_references: false
  
  # Require Docker actions to be pinned to SHA256 digests
  require_docker_digest_pinning: false
  
  # Enforcement level: error | warning
  enforcement_level: warning

# Explicitly blocked actions (highest priority)
blocked_actions: []

# Approved GitHub-owned actions (exempt from org ownership check)
approved_actions:
  - actions/checkout
  - actions/upload-artifact
  - actions/download-artifact
  - actions/setup-python
  - actions/setup-node
  - actions/setup-go
  - actions/setup-java
  - actions/cache
  - actions/github-script
  - actions/labeler
  - actions/stale
  - actions/create-github-app-token
  - actions/attest-build-provenance
  - actions/upload-pages-artifact
  - actions/deploy-pages